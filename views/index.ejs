<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>KYC Modal Test</title>
        <!-- Your library's CSS (if any) -->
        <link rel="stylesheet" href="/css/bootstrap.min.css" />
		<link rel="stylesheet" href="/css/main.css" />
    </head>
    <body>

        <div class="mod" id="kyc-modal">
            <div class="modal-con">
                <span class="close">&times;</span>
                <h2>KYC Verification</h2>
                <p>Please complete the verification process.</p>
                <!-- KYC content will be injected here -->
                <div class="container">
                    <div class="row justify-content-center">
                        <div class="col-4 col-xl-5 col-lg-5 col-md-6 col-sm-7">
                            <form class="">

                                <div class="accordion" id="accordionPanelsStayOpenExample">
                                    <div class="custom-accordion-item">
                                        <h2 class="custom-accordion-header" id="panelsStayOpen-headingOne">
                                            <button class="custom-accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true" aria-controls="panelsStayOpen-collapseOne">
                                                Accordion Item #1
                                            </button>
                                        </h2>
                                        <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingOne">
                                            <div class="accordion-body">
                                            <strong>This is the first item's accordion body.</strong> It is shown by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. You can modify any of this with custom CSS or overriding our default variables. It's also worth noting that just about any HTML can go within the <code>.accordion-body</code>, though the transition does limit overflow.
                                            </div>
                                        </div>
                                    </div>
                                    <div class="custom-accordion-item">
                                        <h2 class="custom-accordion-header" id="panelsStayOpen-headingTwo">
                                            <button class="p-0 px-3 custom-accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false" aria-controls="panelsStayOpen-collapseTwo">
                                                <div class="">
                                                    <div class="d-flex align-items-center">
                                                        <div class="rounded-circle d-flex align-items-center justify-content-center" style="height:40px;width:40px;border:2px solid black">
                                                            <img src="/assets/icons/cloud-upload.svg" class="" width="25" >
                                                        </div>
                                                        <div class="d-flex flex-column mx-2">
                                                            <span class="">Verification documents</span>
                                                            <span>5 items</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </button>
                                        </h2>
                                        <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse show" aria-labelledby="panelsStayOpen-headingTwo">
                                            <div class="accordion-body p-0">
                                                <div class="">
                                                    <% user.verification_documents.forEach(function(doc, index) { %>
                                                        <% if(doc.type === "NIN" || doc.type === "BVN"){ %>
                                                            <div class="px-3 py-2 d-flex align-items-center justify-content-between <%= doc.verified ? 'bg-white' : '' %>">
                                                                <div>
                                                                    <label for="name"><%= doc.type.replace('_', ' ') %> <span class="">*</span></label>
                                                                    <div>
                                                                        <span><%= doc.text %></span>
                                                                        <img src="/assets/icons/cloud-upload.svg" class="ml-2" width="25">
                                                                    </div>
                                                                </div>
                                                                <div>
                                                                    <% if (doc.verified) { %>
                                                                        <!-- Show toggle switch if document is verified -->
                                                                        <div>
                                                                            <label class="toggle">
                                                                                <input type="checkbox" id="verified-<%= index %>" name="<%= doc.type.toLowerCase() %>" checked>
                                                                                <span class="slider"></span>
                                                                            </label>
                                                                        </div>
                                                                    <% } else { %>
                                                                        <!-- Show file upload section if document is NOT verified -->
                                                                        <div>
                                                                            <label for="document-<%= index %>" type="button" class="upload-btn px-3 py-1 d-flex align-items-center justify-content-center">
                                                                                <img src="/assets/icons/cloud-upload.svg" class="mr-2" width="25">
                                                                                <span>Upload</span>
                                                                            </label>
                                                                            <input type="file" id="document-<%= index %>" name="<%= doc.type.toLowerCase() %>" class="d-none" required/>
                                                                        </div>
                                                                    <% } %>
                                                                </div>
                                                            </div>
                                                        <% }; %>
                                                    <% }); %>
                                                    <div class="px-3 py-3">
                                                        <div class="">At least one of these <span class="">*</span></div>
                                                    </div>
                                                    <% user.verification_documents.forEach(function(doc, index) { %>
                                                        <% if(doc.type != "NIN" && doc.type != "BVN"){ %>
                                                            <div class="px-3 py-2 d-flex align-items-center justify-content-between <%= doc.verified ? 'bg-white' : '' %>">
                                                                <div>
                                                                    <label for="name"><%= doc.type.replace('_', ' ') %> <span class="">*</span></label>
                                                                    <div>
                                                                        <span><%= doc.text %></span>
                                                                        <img src="/assets/icons/cloud-upload.svg" class="ml-2" width="25">
                                                                    </div>
                                                                </div>
                                                                <div>
                                                                    <% if (doc.verified) { %>
                                                                        <!-- Show toggle switch if document is verified -->
                                                                        <div>
                                                                            <label class="toggle">
                                                                                <input type="checkbox" id="verified-<%= index %>" name="<%= doc.type.toLowerCase() %>" checked>
                                                                                <span class="slider"></span>
                                                                            </label>
                                                                        </div>
                                                                    <% } else { %>
                                                                        <!-- Show file upload section if document is NOT verified -->
                                                                        <div>
                                                                            <label for="document-<%= index %>" type="button" class="upload-btn px-3 py-1 d-flex align-items-center justify-content-center">
                                                                                <img src="/assets/icons/cloud-upload.svg" class="mr-2" width="25">
                                                                                <span>Upload</span>
                                                                            </label>
                                                                            <input type="file" id="document-<%= index %>" name="<%= doc.type.toLowerCase() %>" class="d-none" required/>
                                                                        </div>
                                                                    <% } %>
                                                                </div>
                                                            </div>
                                                        <% }; %>
                                                    <% }); %>
                        
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="mt-3 w-100">
                                    <button class="d-flex align-items-center justify-content-center w-100 py-2" type="button" id="kyc-submit">
                                        <span>Grant Permission</span>
                                        <img src="/assets/icons/cloud-upload.svg" class="mr-2" width="25" >
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <noscript>
            <div class="alert alert-danger" role="alert">
                This application requires JavaScript to function properly. Please enable JavaScript in your browser settings.
            </div>
        </noscript>
        <script src="/assets/js/jquery.min.js"></script>
        <script src="/assets/js/popper.min.js" crossorigin="anonymous"></script>
        <script src="/assets/js/bootstrap.min.js" crossorigin="anonymous"></script>
    </body>
</html>